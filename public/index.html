<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Engineer Testing Platform</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        header {
            background: linear-gradient(to right, #dc3545, #ff6b6b);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .mode-selector, .navigation {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .btn, .mode-btn, .nav-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn:hover, .mode-btn:hover, .nav-btn:hover {
            background-color: #c82333;
        }
        .active {
            background-color: #c82333;
        }
        .content-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-card, .result-block {
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .answer-option.selected {
            background-color: #ffdddd;
            border: 1px solid #dc3545;
        }
        .grade-excellent { background: #28a745; color: white; }
        .grade-good { background: #ffc107; color: #333; }
        .grade-fair { background: #fd7e14; color: white; }
        .grade-poor { background: #dc3545; color: white; }
        .correct { background: #d4edda; }
        .incorrect { background: #f8d7da; }
        .error { background: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; padding: 10px; border-radius: 5px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <header>
        <h1 data-i18n="mainTitle">ML Engineer Testing Platform</h1>
        <p data-i18n="mainSubtitle">Comprehensive evaluation system for Machine Learning professionals</p>
        <div class="lang-switcher">
            <button id="lang-en" onclick="setLanguage('en')" class="active">EN</button>
            <button id="lang-ru" onclick="setLanguage('ru')">RU</button>
        </div>
    </header>

    <div class="mode-selector">
        <button class="mode-btn active" onclick="setMode('candidate')" data-i18n="candidateMode">Candidate Mode</button>
        <button class="mode-btn" onclick="setMode('admin')" data-i18n="adminMode">Administrator Mode</button>
    </div>

    <nav id="candidateNavigation" class="navigation">
        <button class="nav-btn active" onclick="showSection('welcome')" data-i18n="navStartTest">Start Test</button>
        <button class="nav-btn" onclick="showSection('results')" data-i18n="navResults">Results</button>
    </nav>

    <nav id="adminNavigation" class="navigation hidden">
        <button class="nav-btn active" onclick="showSection('welcome')" data-i18n="navStartTest">Start Test</button>
        <button class="nav-btn" onclick="showSection('questionEditor')" data-i18n="navEditQuestions">Edit Questions</button>
        <button class="nav-btn" onclick="showSection('results')" data-i18n="navResults">Results</button>
        <button class="nav-btn" onclick="showSection('analytics')" data-i18n="navAnalytics">Analytics</button>
    </nav>

    <main>
        <section id="welcome" class="content-section active">
            <h2 data-i18n="welcomeTitle">Machine Learning Engineer Assessment</h2>
            <p data-i18n="welcomeSubtitle">Comprehensive evaluation covering all essential ML engineering skills</p>
            
            <div class="test-overview">
                <h3 data-i18n="overviewTitle">Test Overview</h3>
                <div class="overview-stats">
                    <div><strong id="totalQuestions">--</strong> <span data-i18n="overviewQuestions">Questions</span></div>
                    <div><strong>60</strong> <span data-i18n="overviewMinutes">Minutes</span></div>
                    <div><strong id="totalPoints">--</strong> <span data-i18n="overviewPoints">Total Points</span></div>
                </div>
            </div>

            <div>
                <h3 data-i18n="coverageTitle">Coverage Areas:</h3>
                <ul id="coverageAreas">Loading test information...</ul>
            </div>

            <div>
                <h3 data-i18n="instructionsTitle">Instructions:</h3>
                <ul>
                    <li data-i18n="instruction1">You have 60 minutes to complete all questions</li>
                    <li data-i18n="instruction2">Each question has one correct answer</li>
                    <li data-i18n="instruction3">You can navigate between questions and change answers</li>
                    <li data-i18n="instruction4">Questions are weighted by difficulty (1, 3, or 5 points)</li>
                    <li data-i18n="instruction5">Your progress will be automatically saved</li>
                </ul>
            </div>

            <button class="btn" onclick="startGeneralTest()" data-i18n="beginAssessment">Begin Assessment</button>
            <div class="admin-only hidden">
                <label><input type="checkbox" id="allowRetake"> <span data-i18n="allowRetake">Allow Retake for This User</span></label>
            </div>
        </section>

        <section id="questionEditor" class="content-section hidden">
            <h2 data-i18n="qEditorTitle">Question Management</h2>
            
            <div class="question-form">
                <h3 id="formTitle" data-i18n="qEditorAddTitle">Add New Question</h3>
                <input type="hidden" id="editingQuestionId">

                <label data-i18n="qEditorType">Question Type:</label>
                <select id="questionType" onchange="toggleQuestionTypeFields()">
                    <option value="multiple">Multiple Choice</option>
                    <option value="open">Open Ended</option>
                    <option value="code">Coding Task</option>
                </select>

                <label data-i18n="qEditorCategory">Category:</label>
                <select id="questionCategory">
                    <option value="probability_stats">Probability & Statistics</option>
                    <option value="ml_algorithms">ML Algorithms</option>
                    <option value="data_preparation">Data Preparation</option>
                    <option value="validation_metrics">Validation & Metrics</option>
                    <option value="coding">Coding</option>
                    <option value="soft_communication">Soft Skills: Communication</option>
                    <option value="soft_teamwork">Soft Skills: Teamwork</option>
                    <option value="soft_selforg">Soft Skills: Self-Organization</option>
                    <option value="soft_feedback">Soft Skills: Feedback</option>
                    <option value="soft_creativity">Soft Skills: Creativity</option>
                    <option value="soft_documentation">Soft Skills: Documentation</option>
                </select>

                <label data-i18n="qEditorWeight">Weight (Points):</label>
                <input type="number" id="questionWeight" min="1" value="1">

                <label data-i18n="qEditorText">Question Text:</label>
                <textarea id="questionText"></textarea>

                <div id="multipleChoiceFields">
                    <label data-i18n="qEditorOptA">Option A:</label>
                    <input type="text" id="optionA">
                    <label data-i18n="qEditorOptB">Option B:</label>
                    <input type="text" id="optionB">
                    <label data-i18n="qEditorOptC">Option C:</label>
                    <input type="text" id="optionC">
                    <label data-i18n="qEditorOptD">Option D:</label>
                    <input type="text" id="optionD">
                    <label data-i18n="qEditorCorrect">Correct Answer:</label>
                    <select id="correctAnswer">
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                    </select>
                </div>

                <div id="codingFields" class="hidden">
                    <label data-i18n="qEditorTestCases">Test Cases:</label>
                    <textarea id="testCases"></textarea>
                </div>

                <button class="btn" onclick="addOrUpdateQuestion()" data-i18n="qEditorAddBtn">Save Question</button>
                <button class="btn" onclick="clearForm()">Clear & New</button>
            </div>

            <div class="question-bank">
                <h3 data-i18n="qBankTitle">Question Bank</h3>
                
                <label data-i18n="qBankFilter">Filter by Category:</label>
                <select id="categoryFilter" onchange="filterQuestions()">
                    <option value="all" data-i18n="qBankAllCat">All Categories</option>
                </select>

                <div id="questionsList" class="loading" data-i18n="loadingQuestions">Loading questions...</div>

                <button onclick="exportQuestions()" data-i18n="qBankExport">Export Questions</button>
                <button onclick="importQuestions()" data-i18n="qBankImport">Import Questions</button>
                <button onclick="resetToDefault()" data-i18n="qBankReset">Reset to Default</button>
            </div>
        </section>

        <section id="test" class="content-section hidden">
            <div class="test-header">
                <h2 data-i18n="testTitle">Machine Learning Engineer Assessment</h2>
                <p data-i18n="testSubtitle">Answer all questions within the time limit</p>
                <div id="timer">60:00</div>
            </div>
            
            <div class="progress-bar">
                <div id="progressFill"></div>
            </div>
            
            <div id="testQuestions"></div>
            
            <p class="info" data-i18n="testStartFromWelcome">Please start the test from the welcome section.</p>

            <button id="submitTest" class="btn" onclick="submitTest()" data-i18n="submitTestBtn">Submit Test</button>
        </section>

        <section id="results" class="content-section hidden">
            <h2 data-i18n="resultsTitle">Test Results</h2>
            <div id="resultsContent" class="loading" data-i18n="resultsCompleteTest">Complete a test to see your results here.</div>
        </section>

        <section id="analytics" class="content-section hidden">
            <h2 data-i18n="analyticsTitle">Performance Analytics</h2>
            <div id="analyticsContent" class="loading" data-i18n="loadingAnalytics">Loading analytics data...</div>
        </section>
    </main>

    <script src="js/app.js"></script>
</body>
</html>
